<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion du portefeuille</title>
    <link rel="stylesheet" href="ManageWallet.css">
    <link rel="shortcut icon" href="wallet-icon-png-5.png">

</head>
<body>
    <header>
        <h4 id="title"> Gestion du portefeuille </h4>
        <nav>
            <ul class="elem_toolbar">
                <!-- <li><a href="#">services</a></li> -->
                <li><a href="#"><img class="logo" src="SettingsIcon.png" alt="logo"></a></li>
                <li><a href="#"><img class="logo" src="NotifWhite.png" alt="logo"></a></li>
            </ul>
        </nav>
        
        <a class="btn" href="Login.html"><button>Deconnexion</button></a>
    </header>

    <main>
    
    <form id="FormMW">    
        <div class="toRemove">
            <div class="boutonOpt">
                <button type="submit" onclick="openPopup(event)" id="BtnOpt" > Supprimer </button> 
                <input type="submit" formaction="MyConsumption.html" id="BtnOpt" value="Ma consommation"> 
                <input type="submit" formaction="ModifieWallet.html" id="BtnOpt" value="Modifier Portefeuille"> 
                <input type="submit" formaction="/Extension_Gestion_de_Portfeuille_Agrégé/Subwallet.html" id="BtnOpt" value="Mes Sous-Portefeuille"> 
            </div>

            <!-- Creation de la pop-up -->
            <div class="pop-up" id="pop-up">
                <h2>Voulez-vous vraiment supprimer votre Portefeuille</h2>
                <div class="bouton">
                <button type="button" id="bttn"> Valider </button>
                <!-- bouton permettant de fermer la pop-up -->
                <button type="button" id="bttn"onclick="closePopup()"> Annuler </button> 
                </div>
            </div>
        </div>
    </form>
        
    </main>

    
    <!-- Interraction de la pop-up avec le bouton supprimer -->

    <script>

        let popup = document.getElementById("pop-up");
        
        // methode permettant d'ouvrir la pop-up lier au bouton supprimer 
        function openPopup(event){
            event.preventDefault(); 
            popup.classList.add("open-popup");
        }
        
        // methode permettant de fermer la pop-up lier au bouton annuler 
        function closePopup(){
            popup.classList.remove("open-popup");
        }
        
        let validateBtn = document.getElementById("bttn");
        
        // lorsque l'on supprime le portefeuille, on ne doit plus avoir accès aux option de gestion d'un portefeuille
        validateBtn.addEventListener("click", function() {
            let formMW = document.querySelector(".toRemove");
            formMW.parentNode.remove(formMW);
        
            let body = document.querySelector(".toRemove");
            body.innerHTML = "<h1>Aucun portefeuille</h1>";
            body.style.textAlign = "center";
        });
        
    </script>

</body>
</html>